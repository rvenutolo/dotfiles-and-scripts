#!/usr/bin/env bash

set -euo pipefail

function path_remove() {
  PATH=$(echo -n "$PATH" | awk -v RS=: -v ORS=: '$0 != "'"$1"'"' | sed 's/:$//')
}

# remove this dir from the path so executing `kate` doesn't execute this script
path_remove "$(dirname -- "$(readlink --canonicalize -- "$0")")"

kate "$@" >/dev/null 2>&1 &
disown
